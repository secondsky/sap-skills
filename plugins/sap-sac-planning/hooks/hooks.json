{
  "description": "SAC Planning validation and guidance hooks for ensuring correct API usage and planning best practices",
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "First, check if the file being written/edited is SAC Analytics Designer planning code. It is SAC planning code ONLY if the file content contains SAC planning-specific signatures such as: getPlanning(), PlanningModel, getDataLocking(), DataAction, publishVersion, createPrivateVersion, isDirty(), Application.showBusyIndicator, getDataSource(), PlanningSequence, or SAC Analytics Designer widget APIs like Chart_, Table_, Dropdown_, RadioButtonGroup_.\n\nIf the file is NOT SAC planning code, output nothing.\n\nIf it IS SAC planning code, verify these planning best practices:\n\n1. **API Selection**: getPlanning() for table operations, PlanningModel for master data, DataSource for filtering\n2. **Version Handling**: Check if private version exists before creating, use isDirty() before publishing\n3. **Data Locking**: Check lock state with getDataLocking().getState() before attempting edits\n4. **Busy Indicators**: Use Application.showBusyIndicator() for long operations\n5. **MDX Syntax**: Dimension filters use [Dimension].[Hierarchy].&[Member] format\n6. **Refresh After Changes**: Call refreshData() after master data updates\n7. **Error Handling**: Wrap async operations in try/catch or use .catch() on promises\n\nIf the code follows these practices, return 'approve'.\nIf there are issues, return the specific issue found so it can be fixed.",
            "timeout": 30
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "First, check if the file just written/edited is SAC Analytics Designer planning code. It is SAC planning code ONLY if the file content contains SAC planning-specific signatures such as: getPlanning(), PlanningModel, getDataLocking(), DataAction, publishVersion, createPrivateVersion, isDirty(), Application.showBusyIndicator, getDataSource(), PlanningSequence.\n\nIf the file is NOT SAC planning code, output nothing.\n\nIf it IS SAC planning code, provide a brief reminder about:\n- Testing with tracing enabled for data actions\n- Checking browser console for errors\n- Verifying version and lock states before production use\n\nKeep feedback concise.",
            "timeout": 15
          }
        ]
      }
    ]
  }
}
